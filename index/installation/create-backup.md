# Create Backup

<figure><img src="../../.gitbook/assets/84e3e44a-dc87-4d12-a341-b1ad1ca3a5b8.jpeg" alt=""><figcaption><p>Image generated by an AI with MIT license</p></figcaption></figure>

## Backup the docker volumes

All important data is stored in the Docker volumes.

| Volumename                         | Description                                      |
| ---------------------------------- | ------------------------------------------------ |
| flyingfish\_flyingfish             | Data from backend with config and tmp files      |
| flyingfish\_flyingfishLetsencrypt  | Data from backend with Lets Encrypt certificates |
| flyingfish\_flyingfishDbData       | Database files from Mariadb server               |
| flyingfish\_flyingfishInfluxdbData | Database files from Influxdb server              |
| flyingfish\_flyingfishSsh          | Data from SSH jumb server                        |

Install the following shell script to create a backup of the volume.

```sh
sudo curl -SL https://raw.githubusercontent.com/stefanwerfling/docker-volume-snapshot/main/docker-volume-snapshot -o /usr/local/bin/docker-volume-snapshot
```

```sh
sudo chmod +x /usr/local/bin/docker-volume-snapshot
```

If you are interested or have questions, you can learn more about [docker-volume-snapshot here](https://github.com/stefanwerfling/docker-volume-snapshot).

Now everything is over to back up the volumes.

```sh
docker-volume-snapshot create <volume name> <backup file name>.tar
```

## Restore the docker volumes

To restore the volume, first delete the old one (if it still exists).

```sh
docker volume rm <volume name>
```

Now it can be restored with the docker-volume-snapshot.

```sh
docker-volume-snapshot restore <backup file name>.tarh <volume name>
```

